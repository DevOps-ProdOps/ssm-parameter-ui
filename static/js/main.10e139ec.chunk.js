(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{139:function(e,a){},251:function(e,a,t){e.exports={header:"App_header__1gthY"}},252:function(e,a,t){e.exports={options:"Setup_options__w8eR9"}},285:function(e,a,t){e.exports=t(809)},290:function(e,a,t){},36:function(e,a,t){e.exports={parameter:"Parameter_parameter__3U4Bt",header:"Parameter_header__V08Wh",parameterType:"Parameter_parameterType__rPz-V",controls:"Parameter_controls__1hc0D",editButton:"Parameter_editButton__1AG8a",deleteButton:"Parameter_deleteButton__7LdFa"}},37:function(e,a,t){e.exports={header:"ParameterNode_header__kutRV",info:"ParameterNode_info__1fqdN",children:"ParameterNode_children__FgXFL",controls:"ParameterNode_controls__1DgCV"}},809:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(65),l=t.n(c),o=(t(290),t(242)),u=t(243),i=t(272),m=t(244),s=t(274),p=t(824),h=t(822),d=t(821),E=t(832),f=t(831),v=t(827),b=t(245),g=t(818),O=Object(g.a)(function(e){var a=e.history,t=e.name,n=e.path,c=e.exactMatch,l=e.location,o=Object(b.a)(l.pathname,{exact:c,path:n});return r.a.createElement(v.a.Item,{name:t,active:!!o,onClick:function(){return a.push(n)}},t)}),S=t(251),N=t.n(S),_=t(49),j=t.n(_),y=t(157),w=t(81),k=t(153),x=t(27),P=t(823),C=t(252),B=t.n(C),T={region:"eu-west-1",credentials:{accessKeyId:"",secretAccessKey:""}},F="_ssm_parameter_ui_options",V=function(){var e=Object(n.useState)(JSON.stringify(T,null,2)),a=Object(x.a)(e,2),t=a[0],c=a[1];return Object(n.useEffect)(function(){var e=localStorage.getItem(F);c(e||JSON.stringify(T,null,2))},[]),r.a.createElement(E.a,null,r.a.createElement(E.a.Row,null,r.a.createElement(E.a.Column,null,r.a.createElement(P.a,{onSubmit:function(){var e=JSON.stringify(JSON.parse(t),null,2);localStorage.setItem(F,e),c(e)}},r.a.createElement(P.a.TextArea,{className:B.a.options,label:"Options",name:"options",value:t,onChange:function(e){return c(e.target.value)},rows:10}),r.a.createElement(P.a.Button,null,"Save")))))},I=function(){var e=Object(w.a)(j.a.mark(function e(a,t){var n,r;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=new k.SSM(JSON.parse(localStorage.getItem(F)||"{}")),e.next=3,n.getParametersByPath({Path:a,WithDecryption:!0,Recursive:!0,MaxResults:10,NextToken:t}).promise();case 3:if(!(r=e.sent).NextToken){e.next=15;break}return e.t0=[],e.t1=Object(y.a)(r.Parameters||[]),e.t2=y.a,e.next=10,I(a,r.NextToken);case 10:return e.t3=e.sent,e.t4=(0,e.t2)(e.t3),e.abrupt("return",e.t0.concat.call(e.t0,e.t1,e.t4));case 15:return e.abrupt("return",r.Parameters||[]);case 16:case"end":return e.stop()}},e,this)}));return function(a,t){return e.apply(this,arguments)}}(),J=function(){var e=Object(w.a)(j.a.mark(function e(a){var t;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=new k.SSM(JSON.parse(localStorage.getItem(F)||"{}")),e.abrupt("return",t.putParameter(a).promise());case 2:case"end":return e.stop()}},e,this)}));return function(a){return e.apply(this,arguments)}}(),R=t(826),M=t(829),A=t(820),D=t(69),H=t(828),W=t(116),G=t(36),L=t.n(G),U=t(825),z=t(819),K=function(e){var a=e.children,t=e.parameter,c=e.putParameter,l=void 0===c?J:c,o=e.path,u=Object(n.useState)(!1),i=Object(x.a)(u,2),m=i[0],s=i[1],p=Object(n.useState)(t?t.Type:"String"),h=Object(x.a)(p,2),d=h[0],E=h[1],f=Object(n.useState)(t?t.Name:o||":"),v=Object(x.a)(f,2),b=v[0],g=v[1],O=Object(n.useState)(t?t.Value:""),S=Object(x.a)(O,2),N=S[0],_=S[1],y=Object(n.useState)(!1),k=Object(x.a)(y,2),C=k[0],B=k[1],T=Object(n.useState)(null),F=Object(x.a)(T,2),V=F[0],I=F[1];return r.a.createElement(U.a,{open:m,onClose:function(){return s(!1)},trigger:r.a.cloneElement(a,{onClick:function(){return s(!0)}})},r.a.createElement(U.a.Header,null,t?"Update":"Create"," parameter"),r.a.createElement(U.a.Content,null,r.a.createElement(U.a.Description,null,r.a.createElement(P.a,{onSubmit:Object(w.a)(j.a.mark(function e(){return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return B(!0),e.prev=1,e.next=4,l({Name:b,Type:d,Value:N,Overwrite:!!t});case 4:B(!1),s(!1),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),I(e.t0);case 11:case"end":return e.stop()}},e,this,[[1,8]])}))},r.a.createElement(P.a.Field,null,r.a.createElement("label",null,"Name"),r.a.createElement("input",{name:"name",placeholder:"Name",value:b,onChange:function(e){return g(e.target.value)}})),r.a.createElement(P.a.Field,null,r.a.createElement("label",null,"Sensitive value?"),r.a.createElement(z.a,{name:"type",placeholder:"Encrypt the value?",options:[{key:"SecureString",text:"Yes",value:"SecureString"},{key:"String",text:"No",value:"String"}],value:d,onChange:function(e,a){var t=a.value;return E(t)}})),r.a.createElement(P.a.Field,null,r.a.createElement("label",null,"Value"),r.a.createElement("input",{name:"value",placeholder:"Value",value:N,onChange:function(e){return _(e.target.value)}})),V&&r.a.createElement(R.a,{negative:!0},r.a.createElement(R.a.Header,null,"Error"),r.a.createElement("pre",null,V.stack)),r.a.createElement(H.a,{type:"submit",loading:C,disabled:C},"Save")))))},Y=function(e){var a=e.childNode;return r.a.createElement("div",{className:L.a.parameter},r.a.createElement("div",{className:L.a.header},r.a.createElement("span",{className:L.a.path},a.path),r.a.createElement(W.a,{as:"span",className:L.a.parameterType,content:a.parameter.Type,icon:"SecureString"===a.parameter.Type?"lock":void 0}),r.a.createElement(H.a.Group,{className:L.a.controls},r.a.createElement(K,{parameter:a.parameter},r.a.createElement(H.a,{icon:"pencil",className:L.a.editButton})),r.a.createElement(H.a,{icon:"trash",className:L.a.deleteButton}))),r.a.createElement("div",{className:L.a.description},r.a.createElement("pre",null,a.parameter.Value)))},q=t(37),X=t.n(q),$=t(156),Q=function e(a){var t=a.node,n=a.parentPath,c=n?n+t.path+"/":t.path;return r.a.createElement("div",{className:X.a.parameterNode},r.a.createElement("div",{className:X.a.header},r.a.createElement(D.a,{name:"folder"}),r.a.createElement("div",{className:X.a.info},r.a.createElement("div",{className:X.a.name},t.path),r.a.createElement("div",{className:X.a.description},c)),r.a.createElement(H.a.Group,{className:X.a.controls},r.a.createElement(K,{path:c},r.a.createElement(H.a,{icon:"plus",className:X.a.createButton})))),r.a.createElement("div",{className:X.a.children},$.map($.orderBy(t.children,function(e){return Object.keys(e.children).length>=1?e.path:"_".concat(e.path)},"asc"),function(a,t){return r.a.createElement(r.a.Fragment,{key:t},a.parameter&&r.a.createElement(Y,{childNode:a}),Object.keys(a.children).length>=1&&r.a.createElement(e,{key:t,node:a,parentPath:c}))})))},Z=function(){var e=Object(n.useState)(null),a=Object(x.a)(e,2),t=a[0],c=a[1],l=Object(n.useState)(!0),o=Object(x.a)(l,2),u=o[0],i=o[1],m=Object(n.useState)(null),s=Object(x.a)(m,2),p=s[0],h=s[1];return Object(n.useEffect)(function(){var e;(e="/",I(e)).then(function(e){i(!1),c(function(e){var a={path:"/",children:{}};return e.forEach(function(e){var t=e.Name.split("/");if(""===t[0]){a.children[t[1]]||(a.children[t[1]]={path:t[1],children:{}});for(var n=a.children[t[1]],r=2;r<t.length;r++)n.children[t[r]]?n=n.children[t[r]]:(n.children[t[r]]={path:t[r],children:{}},n=n.children[t[r]]),r===t.length-1&&(n.parameter=e)}else a.children||(a.children={}),a.children[t[0]]={path:t[0],parameter:e,children:{}}}),a}(e))}).catch(h)},[]),p?r.a.createElement(R.a,{negative:!0},r.a.createElement(R.a.Header,null,"Failed to load parameters."),r.a.createElement("pre",null,p.stack)):u?r.a.createElement(M.a,{active:!0},r.a.createElement(A.a,{size:"massive"},"Loading")):t?r.a.createElement(E.a,null,r.a.createElement(E.a.Row,null,r.a.createElement(E.a.Column,{width:16},r.a.createElement(Q,{node:t})))):r.a.createElement("span",null,"Boo")},ee=function(e){function a(){return Object(o.a)(this,a),Object(i.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(s.a)(a,e),Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement(p.a,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,null,r.a.createElement(E.a,null,r.a.createElement(E.a.Row,{className:N.a.header},r.a.createElement(E.a.Column,null,r.a.createElement(f.a,{as:"h1"},"SSM Parameter UI"))),r.a.createElement(E.a.Row,null,r.a.createElement(E.a.Column,null,r.a.createElement(v.a,null,r.a.createElement(O,{path:"/",exactMatch:!0,name:"Home"}),r.a.createElement(O,{path:"/setup",name:"Setup"}))))),r.a.createElement(h.a,{exact:!0,path:"/",component:function(){return r.a.createElement(Z,null)}}),r.a.createElement(h.a,{exact:!0,path:"/setup",component:function(){return r.a.createElement(V,null)}}))))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(ee,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[285,1,2]]]);
//# sourceMappingURL=main.10e139ec.chunk.js.map